<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>イベント管理（LIFF）</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- LINE LIFF SDK（公式CDN）を読み込む -->
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

      <style>
      .toolbar { display:flex; justify-content: space-between; align-items:center; gap:8px; margin: 12px 8px; }
      .btn { padding: 8px 12px; border-radius: 10px; border: none; background: #06C755; color: #fff; font-weight: 600; }
      .grid { display: grid; grid-template-columns: repeat(1, minmax(0,1fr)); gap: 12px; padding: 8px; }
      @media (min-width: 480px) { .grid { grid-template-columns: repeat(2, minmax(0,1fr)); } }
      @media (min-width: 768px) { .grid { grid-template-columns: repeat(3, minmax(0,1fr)); } }

      .card { border-radius: 14px; background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,.08); padding: 12px; }
      .card__header { display:flex; align-items: center; justify-content: space-between; gap: 8px; }
      .card__title { font-size: 15px; font-weight: 700; line-height: 1.3; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 75%; }
      .card__actions { display:flex; gap: 6px; }
      .icon-btn { display:inline-flex; align-items:center; justify-content:center; padding:6px; border-radius: 10px; border:1px solid #e5e7eb; background:#fff; }
      .icon-btn:hover { background: #f9fafb; }
      .card__meta { margin-top: 8px; font-size: 13px; color: #374151; }
      .meta__row { display:flex; justify-content: space-between; padding: 4px 0; border-top: 1px dashed #e5e7eb; }
      .meta__row:first-child { border-top: none; }
      .meta__label { color:#6b7280; }
      .meta__val { font-weight:600; }
      #empty-state { text-align:center; color:#6b7280; padding: 16px 8px; }
    </style>
  </head>

  <body>
    {% load static %}
    <!-- 画面タイトル -->
    <h1>イベント管理</h1>

   <!-- イベント一覧：liff.js は #empty-state と #event-list を参照する -->
   <div id="empty-state"></div>
   <div id="event-list" class="grid"></div>

    <!-- サーバ側で LIFF ID を埋め込み。liff.js で liff.init に渡す -->
    <script>window.LIFF_ID = "{{ LIFF_ID }}";</script>

    <!-- 画面挙動（ログイン/トークン検証/一覧取得/描画） -->
    <script src="{% static 'events/liff.js' %}"></script>
  </body>
</html>